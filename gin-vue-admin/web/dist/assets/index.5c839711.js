/*! 
 Build based on gin-vue-admin 
 Time : 1682150634000 */
import{at as e,c9 as t,B as n,D as o,_ as l,bu as a,bw as s,bv as u,o as r,a1 as i,w as d,J as p,aX as c,aE as v,A as m,ca as h,q as b,ay as f,N as x,P as M,r as g,aA as y,bA as I,a as k,F as C,G as S,Q as E,R as w,bj as T,y as A,aw as $,ag as P,ah as O,V as B,af as z,bV as N,t as j,bk as _,by as L,U as W,cb as q,cc as R,aq as V,W as D,aJ as F,aB as G,c as J,d as H,n as Q,h as U,a4 as X,a6 as Z,a7 as K}from"./index.6e37b4a9.js";import{_ as Y}from"./index.d6d05ae6.js";import{E as ee}from"./index.de987f53.js";class te{constructor(e,t){this.parent=e,this.domNode=t,this.subIndex=0,this.subIndex=0,this.init()}init(){this.subMenuItems=this.domNode.querySelectorAll("li"),this.addListeners()}gotoSubIndex(e){e===this.subMenuItems.length?e=0:e<0&&(e=this.subMenuItems.length-1),this.subMenuItems[e].focus(),this.subIndex=e}addListeners(){const n=this.parent.domNode;Array.prototype.forEach.call(this.subMenuItems,(o=>{o.addEventListener("keydown",(o=>{let l=!1;switch(o.code){case e.down:this.gotoSubIndex(this.subIndex+1),l=!0;break;case e.up:this.gotoSubIndex(this.subIndex-1),l=!0;break;case e.tab:t(n,"mouseleave");break;case e.enter:case e.space:l=!0,o.currentTarget.click()}return l&&(o.preventDefault(),o.stopPropagation()),!1}))}))}}class ne{constructor(e,t){this.domNode=e,this.submenu=null,this.submenu=null,this.init(t)}init(e){this.domNode.setAttribute("tabindex","0");const t=this.domNode.querySelector(`.${e}-menu`);t&&(this.submenu=new te(this,t)),this.addListeners()}addListeners(){this.domNode.addEventListener("keydown",(n=>{let o=!1;switch(n.code){case e.down:t(n.currentTarget,"mouseenter"),this.submenu&&this.submenu.gotoSubIndex(0),o=!0;break;case e.up:t(n.currentTarget,"mouseenter"),this.submenu&&this.submenu.gotoSubIndex(this.submenu.subMenuItems.length-1),o=!0;break;case e.tab:t(n.currentTarget,"mouseleave");break;case e.enter:case e.space:o=!0,n.currentTarget.click()}o&&n.preventDefault()}))}}class oe{constructor(e,t){this.domNode=e,this.init(t)}init(e){const t=this.domNode.childNodes;Array.from(t).forEach((t=>{1===t.nodeType&&new ne(t,e)}))}}var le=l(n({name:"ElMenuCollapseTransition",setup(){const e=o("menu");return{listeners:{onBeforeEnter:e=>e.style.opacity="0.2",onEnter(t,n){a(t,`${e.namespace.value}-opacity-transition`),t.style.opacity="1",n()},onAfterEnter(t){s(t,`${e.namespace.value}-opacity-transition`),t.style.opacity=""},onBeforeLeave(t){t.dataset||(t.dataset={}),u(t,e.m("collapse"))?(s(t,e.m("collapse")),t.dataset.oldOverflow=t.style.overflow,t.dataset.scrollWidth=t.clientWidth.toString(),a(t,e.m("collapse"))):(a(t,e.m("collapse")),t.dataset.oldOverflow=t.style.overflow,t.dataset.scrollWidth=t.clientWidth.toString(),s(t,e.m("collapse"))),t.style.width=`${t.scrollWidth}px`,t.style.overflow="hidden"},onLeave(e){a(e,"horizontal-collapse-transition"),e.style.width=`${e.dataset.scrollWidth}px`}}}}}),[["render",function(e,t,n,o,l,a){return r(),i(v,c({mode:"out-in"},e.listeners),{default:d((()=>[p(e.$slots,"default")])),_:3},16)}],["__file","/home/runner/work/element-plus/element-plus/packages/components/menu/src/menu-collapse-transition.vue"]]);function ae(e,t){const n=m((()=>{let n=e.parent;const o=[t.value];for(;"ElMenu"!==n.type.name;)n.props.index&&o.unshift(n.props.index),n=n.parent;return o}));return{parentMenu:m((()=>{let t=e.parent;for(;t&&!["ElMenu","ElSubMenu"].includes(t.type.name);)t=t.parent;return t})),indexPath:n}}function se(e){return m((()=>{const t=e.backgroundColor;return t?new h(t).shade(20).toString():""}))}const ue=(e,t)=>{const n=o("menu");return m((()=>n.cssVarBlock({"text-color":e.textColor||"","hover-text-color":e.textColor||"","bg-color":e.backgroundColor||"","hover-bg-color":se(e).value||"","active-color":e.activeTextColor||"",level:`${t}`})))},re=b({index:{type:String,required:!0},showTimeout:{type:Number,default:300},hideTimeout:{type:Number,default:300},popperClass:String,disabled:Boolean,popperAppendToBody:{type:Boolean,default:void 0},popperOffset:{type:Number,default:6},expandCloseIcon:{type:f},expandOpenIcon:{type:f},collapseCloseIcon:{type:f},collapseOpenIcon:{type:f}}),ie="ElSubMenu";var de=n({name:ie,props:re,setup(e,{slots:t,expose:n}){const l=z(),{indexPath:a,parentMenu:s}=ae(l,m((()=>e.index))),u=o("menu"),r=o("sub-menu"),i=x("rootMenu");i||M(ie,"can not inject root menu");const d=x(`subMenu:${s.value.uid}`);d||M(ie,"can not inject sub menu");const p=g({}),c=g({});let v;const h=g(!1),b=g(),f=g(null),j=m((()=>"horizontal"===H.value&&L.value?"bottom-start":"right-start")),_=m((()=>"horizontal"===H.value&&L.value||"vertical"===H.value&&!i.props.collapse?e.expandCloseIcon&&e.expandOpenIcon?V.value?e.expandOpenIcon:e.expandCloseIcon:y:e.collapseCloseIcon&&e.collapseOpenIcon?V.value?e.collapseOpenIcon:e.collapseCloseIcon:I)),L=m((()=>0===d.level)),W=m((()=>void 0===e.popperAppendToBody?L.value:Boolean(e.popperAppendToBody))),q=m((()=>i.props.collapse?`${u.namespace.value}-zoom-in-left`:`${u.namespace.value}-zoom-in-top`)),R=m((()=>"horizontal"===H.value&&L.value?["bottom-start","bottom-end","top-start","top-end","right-start","left-start"]:["right-start","left-start","bottom-start","bottom-end","top-start","top-end"])),V=m((()=>i.openedMenus.includes(e.index))),D=m((()=>{let e=!1;return Object.values(p.value).forEach((t=>{t.active&&(e=!0)})),Object.values(c.value).forEach((t=>{t.active&&(e=!0)})),e})),F=m((()=>i.props.backgroundColor||"")),G=m((()=>i.props.activeTextColor||"")),J=m((()=>i.props.textColor||"")),H=m((()=>i.props.mode)),Q=k({index:e.index,indexPath:a,active:D}),U=m((()=>"horizontal"!==H.value?{color:J.value}:{borderBottomColor:D.value?i.props.activeTextColor?G.value:"":"transparent",color:D.value?G.value:J.value})),X=e=>{var t,n,o;e||null==(o=null==(n=null==(t=f.value)?void 0:t.popperRef)?void 0:n.popperInstanceRef)||o.destroy()},Z=()=>{"hover"===i.props.menuTrigger&&"horizontal"===i.props.mode||i.props.collapse&&"vertical"===i.props.mode||e.disabled||i.handleSubMenuClick({index:e.index,indexPath:a.value,active:D.value})},K=(t,n=e.showTimeout)=>{var o;"focus"!==t.type&&("click"===i.props.menuTrigger&&"horizontal"===i.props.mode||!i.props.collapse&&"vertical"===i.props.mode||e.disabled||(d.mouseInChild.value=!0,null==v||v(),({stop:v}=N((()=>{i.openMenu(e.index,a.value)}),n)),W.value&&(null==(o=s.value.vnode.el)||o.dispatchEvent(new MouseEvent("mouseenter")))))},te=(t=!1)=>{var n,o;"click"===i.props.menuTrigger&&"horizontal"===i.props.mode||!i.props.collapse&&"vertical"===i.props.mode||(null==v||v(),d.mouseInChild.value=!1,({stop:v}=N((()=>!h.value&&i.closeMenu(e.index,a.value)),e.hideTimeout)),W.value&&t&&"ElSubMenu"===(null==(n=l.parent)?void 0:n.type.name)&&(null==(o=d.handleMouseleave)||o.call(d,!0)))};C((()=>i.props.collapse),(e=>X(Boolean(e))));{const e=e=>{c.value[e.index]=e},t=e=>{delete c.value[e.index]};S(`subMenu:${l.uid}`,{addSubMenu:e,removeSubMenu:t,handleMouseleave:te,mouseInChild:h,level:d.level+1})}return n({opened:V}),E((()=>{i.addSubMenu(Q),d.addSubMenu(Q)})),w((()=>{d.removeSubMenu(Q),i.removeSubMenu(Q)})),()=>{var n;const o=[null==(n=t.title)?void 0:n.call(t),T($,{class:r.e("icon-arrow"),style:{transform:V.value?e.expandCloseIcon&&e.expandOpenIcon||e.collapseCloseIcon&&e.collapseOpenIcon&&i.props.collapse?"none":"rotateZ(180deg)":"none"}},{default:()=>A(_.value)?T(l.appContext.components[_.value]):T(_.value)})],a=ue(i.props,d.level+1),s=i.isMenuPopup?T(ee,{ref:f,visible:V.value,effect:"light",pure:!0,offset:e.popperOffset,showArrow:!1,persistent:!0,popperClass:e.popperClass,placement:j.value,teleported:W.value,fallbackPlacements:R.value,transition:q.value,gpuAcceleration:!1},{content:()=>{var n;return T("div",{class:[u.m(H.value),u.m("popup-container"),e.popperClass],onMouseenter:e=>K(e,100),onMouseleave:()=>te(!0),onFocus:e=>K(e,100)},[T("ul",{class:[u.b(),u.m("popup"),u.m(`popup-${j.value}`)],style:a.value},[null==(n=t.default)?void 0:n.call(t)])])},default:()=>T("div",{class:r.e("title"),style:[U.value,{backgroundColor:F.value}],onClick:Z},o)}):T(B,{},[T("div",{class:r.e("title"),style:[U.value,{backgroundColor:F.value}],ref:b,onClick:Z},o),T(Y,{},{default:()=>{var e;return P(T("ul",{role:"menu",class:[u.b(),u.m("inline")],style:a.value},[null==(e=t.default)?void 0:e.call(t)]),[[O,V.value]])}})]);return T("li",{class:[r.b(),r.is("active",D.value),r.is("opened",V.value),r.is("disabled",e.disabled)],role:"menuitem",ariaHaspopup:!0,ariaExpanded:V.value,onMouseenter:K,onMouseleave:()=>te(!0),onFocus:K},[s])}}});const pe=b({mode:{type:String,values:["horizontal","vertical"],default:"vertical"},defaultActive:{type:String,default:""},defaultOpeneds:{type:j(Array),default:()=>_([])},uniqueOpened:Boolean,router:Boolean,menuTrigger:{type:String,values:["hover","click"],default:"hover"},collapse:Boolean,backgroundColor:String,textColor:String,activeTextColor:String,collapseTransition:{type:Boolean,default:!0},ellipsis:{type:Boolean,default:!0},popperEffect:{type:String,values:["dark","light"],default:"dark"}}),ce=e=>Array.isArray(e)&&e.every((e=>A(e)));var ve=n({name:"ElMenu",props:pe,emits:{close:(e,t)=>A(e)&&ce(t),open:(e,t)=>A(e)&&ce(t),select:(e,t,n,o)=>A(e)&&ce(t)&&V(n)&&(void 0===o||o instanceof Promise)},setup(e,{emit:t,slots:n,expose:l}){const a=z(),s=a.appContext.config.globalProperties.$router,u=g(),r=o("menu"),i=o("sub-menu"),d=g(-1),p=g(e.defaultOpeneds&&!e.collapse?e.defaultOpeneds.slice(0):[]),c=g(e.defaultActive),v=g({}),h=g({}),b=m((()=>"horizontal"===e.mode||"vertical"===e.mode&&e.collapse)),f=(n,o)=>{p.value.includes(n)||(e.uniqueOpened&&(p.value=p.value.filter((e=>o.includes(e)))),p.value.push(n),t("open",n,o))},x=(e,n)=>{const o=p.value.indexOf(e);-1!==o&&p.value.splice(o,1),t("close",e,n)},M=({index:e,indexPath:t})=>{p.value.includes(e)?x(e,t):f(e,t)},y=n=>{("horizontal"===e.mode||e.collapse)&&(p.value=[]);const{index:o,indexPath:l}=n;if(void 0!==o&&void 0!==l)if(e.router&&s){const e=n.route||o,a=s.push(e).then((e=>(e||(c.value=o),e)));t("select",o,l,{index:o,indexPath:l,route:e},a)}else c.value=o,t("select",o,l,{index:o,indexPath:l})};let I=!0;const w=()=>{const e=()=>{d.value=-1,D((()=>{d.value=(()=>{var e,t;if(!u.value)return-1;const n=Array.from(null!=(t=null==(e=u.value)?void 0:e.childNodes)?t:[]).filter((e=>"#text"!==e.nodeName||e.nodeValue)),o=Number.parseInt(getComputedStyle(u.value).paddingLeft,10),l=Number.parseInt(getComputedStyle(u.value).paddingRight,10),a=u.value.clientWidth-o-l;let s=0,r=0;return n.forEach(((e,t)=>{s+=e.offsetWidth||0,s<=a-64&&(r=t+1)})),r===n.length?-1:r})()}))};I?e():((e,t=33.34)=>{let n;return()=>{n&&clearTimeout(n),n=setTimeout((()=>{e()}),t)}})(e)(),I=!1};let A;C((()=>e.defaultActive),(t=>{v.value[t]||(c.value=""),(t=>{const n=v.value,o=n[t]||c.value&&n[c.value]||n[e.defaultActive];c.value=o?o.index:t})(t)})),C((()=>e.collapse),(e=>{e&&(p.value=[])})),C(v.value,(()=>{const t=c.value&&v.value[c.value];if(!t||"horizontal"===e.mode||e.collapse)return;t.indexPath.forEach((e=>{const t=h.value[e];t&&f(e,t.indexPath)}))})),L((()=>{"horizontal"===e.mode&&e.ellipsis?A=W(u,w).stop:null==A||A()}));{const t=e=>{h.value[e.index]=e},n=e=>{delete h.value[e.index]},o=e=>{v.value[e.index]=e},l=e=>{delete v.value[e.index]};S("rootMenu",k({props:e,openedMenus:p,items:v,subMenus:h,activeIndex:c,isMenuPopup:b,addMenuItem:o,removeMenuItem:l,addSubMenu:t,removeSubMenu:n,openMenu:f,closeMenu:x,handleMenuItemClick:y,handleSubMenuClick:M})),S(`subMenu:${a.uid}`,{addSubMenu:t,removeSubMenu:n,mouseInChild:g(!1),level:0})}E((()=>{"horizontal"===e.mode&&new oe(a.vnode.el,r.namespace.value)}));l({open:e=>{const{indexPath:t}=h.value[e];t.forEach((e=>f(e,t)))},close:x,handleResize:w});return()=>{var t,o;let l=null!=(o=null==(t=n.default)?void 0:t.call(n))?o:[];const a=[];if("horizontal"===e.mode&&u.value){const t=q(l),n=-1===d.value?t:t.slice(0,d.value),o=-1===d.value?[]:t.slice(d.value);(null==o?void 0:o.length)&&e.ellipsis&&(l=n,a.push(T(de,{index:"sub-menu-more",class:i.e("hide-arrow")},{title:()=>T($,{class:i.e("icon-more")},{default:()=>T(R)}),default:()=>o})))}const s=ue(e,0),p=T("ul",{key:String(e.collapse),role:"menubar",ref:u,style:s.value,class:{[r.b()]:!0,[r.m(e.mode)]:!0,[r.m("collapse")]:e.collapse}},[...l,...a]);return e.collapseTransition&&"vertical"===e.mode?T(le,(()=>p)):p}}});const me=b({index:{type:j([String,null]),default:null},route:{type:j([String,Object])},disabled:Boolean}),he="ElMenuItem";var be=l(n({name:he,components:{ElTooltip:ee},props:me,emits:{click:e=>A(e.index)&&Array.isArray(e.indexPath)},setup(e,{emit:t}){const n=z(),l=x("rootMenu"),a=o("menu"),s=o("menu-item");l||M(he,"can not inject root menu");const{parentMenu:u,indexPath:r}=ae(n,F(e,"index")),i=x(`subMenu:${u.value.uid}`);i||M(he,"can not inject sub menu");const d=m((()=>e.index===l.activeIndex)),p=k({index:e.index,indexPath:r,active:d});return E((()=>{i.addSubMenu(p),l.addMenuItem(p)})),w((()=>{i.removeSubMenu(p),l.removeMenuItem(p)})),{parentMenu:u,rootMenu:l,active:d,nsMenu:a,nsMenuItem:s,handleClick:()=>{e.disabled||(l.handleMenuItemClick({index:e.index,indexPath:r.value,route:e.route}),t("click",p))}}}}),[["render",function(e,t,n,o,l,a){const s=G("el-tooltip");return r(),J("li",{class:Q([e.nsMenuItem.b(),e.nsMenuItem.is("active",e.active),e.nsMenuItem.is("disabled",e.disabled)]),role:"menuitem",tabindex:"-1",onClick:t[0]||(t[0]=(...t)=>e.handleClick&&e.handleClick(...t))},["ElMenu"===e.parentMenu.type.name&&e.rootMenu.props.collapse&&e.$slots.title?(r(),i(s,{key:0,effect:e.rootMenu.props.popperEffect,placement:"right","fallback-placements":["left"],persistent:""},{content:d((()=>[p(e.$slots,"title")])),default:d((()=>[H("div",{class:Q(e.nsMenu.be("tooltip","trigger"))},[p(e.$slots,"default")],2)])),_:3},8,["effect"])):(r(),J(B,{key:1},[p(e.$slots,"default"),p(e.$slots,"title")],64))],2)}],["__file","/home/runner/work/element-plus/element-plus/packages/components/menu/src/menu-item.vue"]]);var fe=l(n({name:"ElMenuItemGroup",props:{title:String},setup:()=>({ns:o("menu-item-group")})}),[["render",function(e,t,n,o,l,a){return r(),J("li",{class:Q(e.ns.b())},[H("div",{class:Q(e.ns.e("title"))},[e.$slots.title?p(e.$slots,"title",{key:1}):(r(),J(B,{key:0},[U(X(e.title),1)],64))],2),H("ul",null,[p(e.$slots,"default")])],2)}],["__file","/home/runner/work/element-plus/element-plus/packages/components/menu/src/menu-item-group.vue"]]);const xe=Z(ve,{MenuItem:be,MenuItemGroup:fe,SubMenu:de}),Me=K(be);K(fe);const ge=K(de);export{ge as E,Me as a,xe as b};
