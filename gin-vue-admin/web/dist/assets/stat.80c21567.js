/*! 
 Build based on gin-vue-admin 
 Time : 1682164992000 */
import{r as e,o as a,c as t,d as l,e as r,w as o,V as s,aD as d,a1 as u,h as i,aF as n,E as p,d8 as c}from"./index.8a0793e1.js";import{E as m,a as v}from"./col.41e9a4ee.js";import{E as f}from"./pagination.3105b69d.js";/* empty css              */import"./tag.c2befb9d.js";import{E as b,a as g}from"./select.a337fe0b.js";import"./scrollbar.8938fee5.js";/* empty css               */import{E as j,a as w}from"./table-column.1d311dab.js";import"./checkbox.37c5511a.js";/* empty css                */import{E as h,a as C}from"./form-item.de0dc8a0.js";/* empty css               */import{E as _}from"./date-picker.41c89f43.js";import{g as y}from"./stat.161890eb.js";import{g as D}from"./server.9aef3924.js";import{s as x,E as A}from"./statChart.1dcffa18.js";import"./isEqual.308df9cb.js";import"./_Uint8Array.84fc61e2.js";import"./index.5f729125.js";import"./index.94ab2e27.js";import"./strings.2bcdca77.js";import"./_initCloneObject.b12e814f.js";import"./arrays.378bf91a.js";import"./index.cd3491b8.js";import"./_plugin-vue_export-helper.cdc0426e.js";const V={class:"page"},S={class:"gva-search-box"},k={class:"gva-table-box"},E={class:"gva-pagination"},I={class:"gva-card-box"},z={name:"Stat"},U=Object.assign(z,{setup(z){e({tag:"",down:"",up:"",total:""}),e();const U=e(1),O=e(0),F=e(10),T=e([]),K=(new Date).toISOString(),M=e({startCreatedAt:K,endCreatedAt:K}),Y=()=>{G(),x({...M.value})},q=()=>{if(U.value=1,F.value=10,M.value.startCreatedAt){const e=new Date(M.value.startCreatedAt),a=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate()));M.value.startCreatedAt=a.toISOString()}if(M.value.endCreatedAt){const e=new Date(M.value.endCreatedAt),a=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate()));M.value.endCreatedAt=a.toISOString()}G(),x({...M.value})},N=e=>{F.value=e,G()},B=e=>{U.value=e,G()},G=async()=>{const e=await y({page:U.value,pageSize:F.value,...M.value});0===e.code&&(T.value=e.data.list,O.value=e.data.total,U.value=e.data.page,F.value=e.data.pageSize)};G(),x({...M.value});const H=e([]),J=e([]);return(async()=>{const e=await c();0===e.code&&(H.value=e.data.users)})(),(async()=>{const e=await D();0===e.code&&(J.value=e.data.srvs)})(),(e,c)=>{const y=_,D=h,x=b,z=g,K=p,G=C,L=j,P=w,Q=f,R=m,W=v;return a(),t("div",V,[l("div",S,[r(G,{inline:!0,model:M.value,class:"demo-form-inline",onKeyup:n(q,["enter"])},{default:o((()=>[r(D,{label:"创建时间"},{default:o((()=>[r(y,{modelValue:M.value.startCreatedAt,"onUpdate:modelValue":c[0]||(c[0]=e=>M.value.startCreatedAt=e),type:"date",placeholder:"开始时间","default-value":new Date},null,8,["modelValue","default-value"]),r(y,{modelValue:M.value.endCreatedAt,"onUpdate:modelValue":c[1]||(c[1]=e=>M.value.endCreatedAt=e),type:"date",placeholder:"结束时间","default-value":new Date},null,8,["modelValue","default-value"])])),_:1}),r(D,{label:"用户名"},{default:o((()=>[r(z,{modelValue:M.value.tag,"onUpdate:modelValue":c[2]||(c[2]=e=>M.value.tag=e),clearable:"",filterable:"",style:{width:"194px"}},{default:o((()=>[(a(!0),t(s,null,d(H.value,(e=>(a(),u(x,{key:e.ID,value:e.ID,label:e.nickName},null,8,["value","label"])))),128))])),_:1},8,["modelValue"])])),_:1}),r(D,{label:"服务器Ip"},{default:o((()=>[r(z,{modelValue:M.value.server_ip,"onUpdate:modelValue":c[3]||(c[3]=e=>M.value.server_ip=e),clearable:"",filterable:"",style:{width:"194px"}},{default:o((()=>[(a(!0),t(s,null,d(J.value,(e=>(a(),u(x,{key:e.ip,value:e.ip,label:e.ip},null,8,["value","label"])))),128))])),_:1},8,["modelValue"])])),_:1}),r(D,null,{default:o((()=>[r(K,{type:"primary",icon:"search",onClick:q},{default:o((()=>[i("查询")])),_:1}),r(K,{icon:"refresh",onClick:Y},{default:o((()=>[i("重置")])),_:1})])),_:1})])),_:1},8,["model","onKeyup"])]),l("div",k,[r(P,{ref:"multipleTable",style:{width:"100%"},"tooltip-effect":"dark",data:T.value,"row-key":"ID"},{default:o((()=>[r(L,{type:"selection",width:"55"}),r(L,{align:"left",label:"用户",prop:"username",width:"120"}),r(L,{align:"left",label:"服务器Ip",prop:"server_ip",width:"200"}),r(L,{align:"left",label:"下行流量",prop:"down",width:"120"}),r(L,{align:"left",label:"上行流量",prop:"up",width:"120"}),r(L,{align:"left",label:"总流量",prop:"total",width:"120"}),r(L,{align:"left",label:"日期",prop:"created_at",width:"180"})])),_:1},8,["data"]),l("div",E,[r(Q,{layout:"total, sizes, prev, pager, next, jumper","current-page":U.value,"page-size":F.value,"page-sizes":[10,30,50,100],total:O.value,onCurrentChange:B,onSizeChange:N},null,8,["current-page","page-size","total"])])]),l("div",I,[r(W,null,{default:o((()=>[r(R,null,{default:o((()=>[r(A)])),_:1})])),_:1})])])}}});export{U as default};
