/*! 
 Build based on gin-vue-admin 
 Time : 1682150634000 */
import{r as e,o as l,c as a,e as u,w as d,V as o,aD as t,a1 as i,b as r,E as m,bh as s,bi as p,d as f}from"./index.6e37b4a9.js";import{E as n,a as v}from"./form-item.4fb89422.js";import{E as b}from"./switch.2c6c2888.js";/* empty css              */import"./tag.399f43c4.js";import{E as c,a as y}from"./select.df075b2f.js";import"./scrollbar.7d3c2ec6.js";/* empty css               *//* empty css               */import{a as V,t as g}from"./stringFun.2b3a18f6.js";import{g as T}from"./sysDictionary.95339a94.js";import{W as _}from"./warningBar.f3d8901e.js";import{_ as E}from"./_plugin-vue_export-helper.cdc0426e.js";import"./_Uint8Array.74027f42.js";import"./_initCloneObject.ad389fd2.js";import"./index.de987f53.js";import"./index.a80871d6.js";import"./strings.1b99874f.js";import"./isEqual.9a8132d8.js";/* empty css             */const j=(e=>(s("data-v-bca0217c"),e=e(),p(),e))((()=>f("span",{style:{"font-size":"12px"}},"自动填充",-1))),h={name:"FieldDialog"},N=E(Object.assign(h,{props:{dialogMiddle:{type:Object,default:function(){return{}}}},setup(s,{expose:p}){const f=s,E=e({}),h=e([]),N=e([{label:"=",value:"="},{label:"<>",value:"<>"},{label:">",value:">"},{label:"<",value:"<"},{label:"LIKE",value:"LIKE"},{label:"BETWEEN",value:"BETWEEN"},{label:"NOT BETWEEN",value:"NOT BETWEEN"}]),U=e([{label:"字符串",value:"string"},{label:"整型",value:"int"},{label:"布尔值",value:"bool"},{label:"浮点型",value:"float64"},{label:"时间",value:"time.Time"},{label:"枚举",value:"enum"}]),w=e({fieldName:[{required:!0,message:"请输入field英文名",trigger:"blur"}],fieldDesc:[{required:!0,message:"请输入field中文名",trigger:"blur"}],fieldJson:[{required:!0,message:"请输入field格式化json",trigger:"blur"}],columnName:[{required:!0,message:"请输入数据库字段",trigger:"blur"}],fieldType:[{required:!0,message:"请选择field数据类型",trigger:"blur"}]});(async()=>{E.value=f.dialogMiddle;const e=await T({page:1,pageSize:999999});h.value=e.data.list})();const x=()=>{E.value.fieldJson=V(E.value.fieldName),E.value.columnName=g(E.value.fieldJson)},F=()=>{E.value.fieldSearchType="",E.value.dictType=""},D=e(null);return p({fieldDialogFrom:D}),(e,s)=>{const p=r,f=m,V=n,g=c,T=y,q=b,B=v;return l(),a("div",null,[u(_,{title:"id , created_at , updated_at , deleted_at 会自动生成请勿重复创建。搜索时如果条件为LIKE只支持字符串"}),u(B,{ref_key:"fieldDialogFrom",ref:D,model:E.value,"label-width":"120px","label-position":"right",rules:w.value,class:"grid-form"},{default:d((()=>[u(V,{label:"Field名称",prop:"fieldName"},{default:d((()=>[u(p,{modelValue:E.value.fieldName,"onUpdate:modelValue":s[0]||(s[0]=e=>E.value.fieldName=e),autocomplete:"off",style:{width:"80%"}},null,8,["modelValue"]),u(f,{style:{width:"18%","margin-left":"2%"},onClick:x},{default:d((()=>[j])),_:1})])),_:1}),u(V,{label:"Field中文名",prop:"fieldDesc"},{default:d((()=>[u(p,{modelValue:E.value.fieldDesc,"onUpdate:modelValue":s[1]||(s[1]=e=>E.value.fieldDesc=e),autocomplete:"off"},null,8,["modelValue"])])),_:1}),u(V,{label:"FieldJSON",prop:"fieldJson"},{default:d((()=>[u(p,{modelValue:E.value.fieldJson,"onUpdate:modelValue":s[2]||(s[2]=e=>E.value.fieldJson=e),autocomplete:"off"},null,8,["modelValue"])])),_:1}),u(V,{label:"数据库字段名",prop:"columnName"},{default:d((()=>[u(p,{modelValue:E.value.columnName,"onUpdate:modelValue":s[3]||(s[3]=e=>E.value.columnName=e),autocomplete:"off"},null,8,["modelValue"])])),_:1}),u(V,{label:"数据库字段描述",prop:"comment"},{default:d((()=>[u(p,{modelValue:E.value.comment,"onUpdate:modelValue":s[4]||(s[4]=e=>E.value.comment=e),autocomplete:"off"},null,8,["modelValue"])])),_:1}),u(V,{label:"Field数据类型",prop:"fieldType"},{default:d((()=>[u(T,{modelValue:E.value.fieldType,"onUpdate:modelValue":s[5]||(s[5]=e=>E.value.fieldType=e),style:{width:"100%"},placeholder:"请选择field数据类型",clearable:"",onChange:F},{default:d((()=>[(l(!0),a(o,null,t(U.value,(e=>(l(),i(g,{key:e.value,label:e.label,value:e.value},null,8,["label","value"])))),128))])),_:1},8,["modelValue"])])),_:1}),u(V,{label:"enum"===E.value.fieldType?"枚举值":"类型长度",prop:"dataTypeLong"},{default:d((()=>[u(p,{modelValue:E.value.dataTypeLong,"onUpdate:modelValue":s[6]||(s[6]=e=>E.value.dataTypeLong=e),placeholder:"enum"===E.value.fieldType?"例:'北京','天津'":"数据库类型长度"},null,8,["modelValue","placeholder"])])),_:1},8,["label"]),u(V,{label:"Field查询条件",prop:"fieldSearchType"},{default:d((()=>[u(T,{modelValue:E.value.fieldSearchType,"onUpdate:modelValue":s[7]||(s[7]=e=>E.value.fieldSearchType=e),style:{width:"100%"},placeholder:"请选择Field查询条件",clearable:""},{default:d((()=>[(l(!0),a(o,null,t(N.value,(e=>(l(),i(g,{key:e.value,label:e.label,value:e.value,disabled:"string"!==E.value.fieldType&&"LIKE"===e.value||"int"!==E.value.fieldType&&"time.Time"!==E.value.fieldType&&"float64"!==E.value.fieldType&&("BETWEEN"===e.value||"NOT BETWEEN"===e.value)},null,8,["label","value","disabled"])))),128))])),_:1},8,["modelValue"])])),_:1}),u(V,{label:"关联字典",prop:"dictType"},{default:d((()=>[u(T,{modelValue:E.value.dictType,"onUpdate:modelValue":s[8]||(s[8]=e=>E.value.dictType=e),style:{width:"100%"},disabled:"int"!==E.value.fieldType,placeholder:"请选择字典",clearable:""},{default:d((()=>[(l(!0),a(o,null,t(h.value,(e=>(l(),i(g,{key:e.type,label:`${e.type}(${e.name})`,value:e.type},null,8,["label","value"])))),128))])),_:1},8,["modelValue","disabled"])])),_:1}),u(V,{label:"是否排序"},{default:d((()=>[u(q,{modelValue:E.value.sort,"onUpdate:modelValue":s[9]||(s[9]=e=>E.value.sort=e)},null,8,["modelValue"])])),_:1}),u(V,{label:"是否必填"},{default:d((()=>[u(q,{modelValue:E.value.require,"onUpdate:modelValue":s[10]||(s[10]=e=>E.value.require=e)},null,8,["modelValue"])])),_:1}),u(V,{label:"是否可清空"},{default:d((()=>[u(q,{modelValue:E.value.clearable,"onUpdate:modelValue":s[11]||(s[11]=e=>E.value.clearable=e)},null,8,["modelValue"])])),_:1}),u(V,{label:"校验失败文案"},{default:d((()=>[u(p,{modelValue:E.value.errorText,"onUpdate:modelValue":s[12]||(s[12]=e=>E.value.errorText=e)},null,8,["modelValue"])])),_:1})])),_:1},8,["model","rules"])])}}}),[["__scopeId","data-v-bca0217c"]]);export{N as default};
