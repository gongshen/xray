/*! 
 Build based on gin-vue-admin 
 Time : 1680873134000 */
import{r as e,o as l,c as a,e as d,w as u,U as o,aC as t,a0 as i,b as r,E as m,bh as s,bi as p,d as n}from"./index.e22ca15e.js";import{E as f,a as v}from"./form-item.8c20599d.js";/* empty css               *//* empty css              */import"./tag.46cc5c34.js";import{E as c,a as b}from"./select.96194a5d.js";import"./scrollbar.efc86474.js";/* empty css               *//* empty css               */import{a as _,t as y}from"./stringFun.2b3a18f6.js";import{g}from"./sysDictionary.2b495a7f.js";import{W as V}from"./warningBar.d352a93c.js";/* empty css                                                                    */import{_ as T}from"./_plugin-vue_export-helper.cdc0426e.js";import{E as j}from"./index.2e5d978d.js";import"./_Uint8Array.ef0d212b.js";import"./_initCloneObject.671954bf.js";import"./index.21b03b03.js";import"./index.e347d1a7.js";import"./strings.36175d48.js";import"./isEqual.c0ca3f92.js";/* empty css             *//* empty css                                                                   */const E=(e=>(s("data-v-bca0217c"),e=e(),p(),e))((()=>n("span",{style:{"font-size":"12px"}},"自动填充",-1))),h={name:"FieldDialog"},N=T(Object.assign(h,{props:{dialogMiddle:{type:Object,default:function(){return{}}}},setup(s,{expose:p}){const n=s,T=e({}),h=e([]),N=e([{label:"=",value:"="},{label:"<>",value:"<>"},{label:">",value:">"},{label:"<",value:"<"},{label:"LIKE",value:"LIKE"},{label:"BETWEEN",value:"BETWEEN"},{label:"NOT BETWEEN",value:"NOT BETWEEN"}]),U=e([{label:"字符串",value:"string"},{label:"整型",value:"int"},{label:"布尔值",value:"bool"},{label:"浮点型",value:"float64"},{label:"时间",value:"time.Time"},{label:"枚举",value:"enum"}]),x=e({fieldName:[{required:!0,message:"请输入field英文名",trigger:"blur"}],fieldDesc:[{required:!0,message:"请输入field中文名",trigger:"blur"}],fieldJson:[{required:!0,message:"请输入field格式化json",trigger:"blur"}],columnName:[{required:!0,message:"请输入数据库字段",trigger:"blur"}],fieldType:[{required:!0,message:"请选择field数据类型",trigger:"blur"}]});(async()=>{T.value=n.dialogMiddle;const e=await g({page:1,pageSize:999999});h.value=e.data.list})();const w=()=>{T.value.fieldJson=_(T.value.fieldName),T.value.columnName=y(T.value.fieldJson)},F=()=>{T.value.fieldSearchType="",T.value.dictType=""},D=e(null);return p({fieldDialogFrom:D}),(e,s)=>{const p=r,n=m,_=f,y=c,g=b,q=j,B=v;return l(),a("div",null,[d(V,{title:"id , created_at , updated_at , deleted_at 会自动生成请勿重复创建。搜索时如果条件为LIKE只支持字符串"}),d(B,{ref_key:"fieldDialogFrom",ref:D,model:T.value,"label-width":"120px","label-position":"right",rules:x.value,class:"grid-form"},{default:u((()=>[d(_,{label:"Field名称",prop:"fieldName"},{default:u((()=>[d(p,{modelValue:T.value.fieldName,"onUpdate:modelValue":s[0]||(s[0]=e=>T.value.fieldName=e),autocomplete:"off",style:{width:"80%"}},null,8,["modelValue"]),d(n,{style:{width:"18%","margin-left":"2%"},onClick:w},{default:u((()=>[E])),_:1})])),_:1}),d(_,{label:"Field中文名",prop:"fieldDesc"},{default:u((()=>[d(p,{modelValue:T.value.fieldDesc,"onUpdate:modelValue":s[1]||(s[1]=e=>T.value.fieldDesc=e),autocomplete:"off"},null,8,["modelValue"])])),_:1}),d(_,{label:"FieldJSON",prop:"fieldJson"},{default:u((()=>[d(p,{modelValue:T.value.fieldJson,"onUpdate:modelValue":s[2]||(s[2]=e=>T.value.fieldJson=e),autocomplete:"off"},null,8,["modelValue"])])),_:1}),d(_,{label:"数据库字段名",prop:"columnName"},{default:u((()=>[d(p,{modelValue:T.value.columnName,"onUpdate:modelValue":s[3]||(s[3]=e=>T.value.columnName=e),autocomplete:"off"},null,8,["modelValue"])])),_:1}),d(_,{label:"数据库字段描述",prop:"comment"},{default:u((()=>[d(p,{modelValue:T.value.comment,"onUpdate:modelValue":s[4]||(s[4]=e=>T.value.comment=e),autocomplete:"off"},null,8,["modelValue"])])),_:1}),d(_,{label:"Field数据类型",prop:"fieldType"},{default:u((()=>[d(g,{modelValue:T.value.fieldType,"onUpdate:modelValue":s[5]||(s[5]=e=>T.value.fieldType=e),style:{width:"100%"},placeholder:"请选择field数据类型",clearable:"",onChange:F},{default:u((()=>[(l(!0),a(o,null,t(U.value,(e=>(l(),i(y,{key:e.value,label:e.label,value:e.value},null,8,["label","value"])))),128))])),_:1},8,["modelValue"])])),_:1}),d(_,{label:"enum"===T.value.fieldType?"枚举值":"类型长度",prop:"dataTypeLong"},{default:u((()=>[d(p,{modelValue:T.value.dataTypeLong,"onUpdate:modelValue":s[6]||(s[6]=e=>T.value.dataTypeLong=e),placeholder:"enum"===T.value.fieldType?"例:'北京','天津'":"数据库类型长度"},null,8,["modelValue","placeholder"])])),_:1},8,["label"]),d(_,{label:"Field查询条件",prop:"fieldSearchType"},{default:u((()=>[d(g,{modelValue:T.value.fieldSearchType,"onUpdate:modelValue":s[7]||(s[7]=e=>T.value.fieldSearchType=e),style:{width:"100%"},placeholder:"请选择Field查询条件",clearable:""},{default:u((()=>[(l(!0),a(o,null,t(N.value,(e=>(l(),i(y,{key:e.value,label:e.label,value:e.value,disabled:"string"!==T.value.fieldType&&"LIKE"===e.value||"int"!==T.value.fieldType&&"time.Time"!==T.value.fieldType&&"float64"!==T.value.fieldType&&("BETWEEN"===e.value||"NOT BETWEEN"===e.value)},null,8,["label","value","disabled"])))),128))])),_:1},8,["modelValue"])])),_:1}),d(_,{label:"关联字典",prop:"dictType"},{default:u((()=>[d(g,{modelValue:T.value.dictType,"onUpdate:modelValue":s[8]||(s[8]=e=>T.value.dictType=e),style:{width:"100%"},disabled:"int"!==T.value.fieldType,placeholder:"请选择字典",clearable:""},{default:u((()=>[(l(!0),a(o,null,t(h.value,(e=>(l(),i(y,{key:e.type,label:`${e.type}(${e.name})`,value:e.type},null,8,["label","value"])))),128))])),_:1},8,["modelValue","disabled"])])),_:1}),d(_,{label:"是否排序"},{default:u((()=>[d(q,{modelValue:T.value.sort,"onUpdate:modelValue":s[9]||(s[9]=e=>T.value.sort=e)},null,8,["modelValue"])])),_:1}),d(_,{label:"是否必填"},{default:u((()=>[d(q,{modelValue:T.value.require,"onUpdate:modelValue":s[10]||(s[10]=e=>T.value.require=e)},null,8,["modelValue"])])),_:1}),d(_,{label:"是否可清空"},{default:u((()=>[d(q,{modelValue:T.value.clearable,"onUpdate:modelValue":s[11]||(s[11]=e=>T.value.clearable=e)},null,8,["modelValue"])])),_:1}),d(_,{label:"校验失败文案"},{default:u((()=>[d(p,{modelValue:T.value.errorText,"onUpdate:modelValue":s[12]||(s[12]=e=>T.value.errorText=e)},null,8,["modelValue"])])),_:1})])),_:1},8,["model","rules"])])}}}),[["__scopeId","data-v-bca0217c"]]);export{N as default};
