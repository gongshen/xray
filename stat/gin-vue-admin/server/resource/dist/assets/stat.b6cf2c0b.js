/*! 
 Build based on gin-vue-admin 
 Time : 1680873134000 */
import{r as e,a,o as l,c as t,d as o,e as u,w as r,h as d,U as s,aC as i,a0 as p,aE as n,j as m,E as c,b as v,bn as b}from"./index.e22ca15e.js";import{E as f}from"./dialog.844a69bd.js";import"./overlay.b9869d98.js";/* empty css              */import{E as g}from"./pagination.1c71de03.js";import"./tag.46cc5c34.js";import{E as y,a as j}from"./select.96194a5d.js";import"./scrollbar.efc86474.js";/* empty css               */import{E as V,a as h}from"./table-column.a83e6cf2.js";import"./checkbox.bea932b2.js";/* empty css                */import{E as w,a as _}from"./form-item.8c20599d.js";/* empty css               */import{E as k}from"./date-picker.6d698148.js";import{g as C,c as x,u as U}from"./stat.cd1061b7.js";import"./date.23f5a973.js";import"./dictionary.e3d9631e.js";import"./refs.e55ffb18.js";import"./isEqual.c0ca3f92.js";import"./_Uint8Array.ef0d212b.js";import"./index.21b03b03.js";import"./index.e347d1a7.js";import"./strings.36175d48.js";import"./_initCloneObject.671954bf.js";import"./arrays.378bf91a.js";import"./index.71bebd1b.js";import"./sysDictionary.2b495a7f.js";const N={class:"gva-search-box"},E={class:"gva-table-box"},z=o("div",{class:"gva-btn-list"},null,-1),A={class:"gva-pagination"},S={class:"dialog-footer"},D={name:"Stat"},I=Object.assign(D,{setup(D){const I=e({category:"",tag:"",down:"",up:"",total:""}),q=a({category:[{required:!0,message:"",trigger:["input","blur"]}]}),K=e(),O=e(1),F=e(0),R=e(10),T=e([]),B=e({category:"user"}),G=()=>{B.value={},M()},H=()=>{O.value=1,R.value=10,M()},J=e=>{R.value=e,M()},L=e=>{O.value=e,M()},M=async()=>{const e=await C({page:O.value,pageSize:R.value,...B.value});0===e.code&&(T.value=e.data.list,F.value=e.data.total,O.value=e.data.page,R.value=e.data.pageSize)};M();(async()=>{})();const P=e([]),Q=e=>{P.value=e};e(!1);const W=e(""),X=e(!1),Y=()=>{X.value=!1,I.value={category:"",tag:"",down:"",up:"",total:""}},Z=async()=>{var e;null==(e=K.value)||e.validate((async e=>{if(!e)return;let a;switch(W.value){case"create":default:a=await x(I.value);break;case"update":a=await U(I.value)}0===a.code&&(m({type:"success",message:"创建/更改成功"}),Y(),M())}))},$=e([{categoryName:"user"},{categoryName:"inbound"},{categoryName:"outbound"}]),ee=e([]);return(async()=>{const e=await b();0===e.code&&(ee.value=e.data.users)})(),(e,a)=>{const m=k,b=w,C=y,x=j,U=c,D=_,M=V,P=h,W=g,ae=v,le=f;return l(),t("div",null,[o("div",N,[u(D,{inline:!0,model:B.value,class:"demo-form-inline",onKeyup:n(H,["enter"])},{default:r((()=>[u(b,{label:"创建时间"},{default:r((()=>[u(m,{modelValue:B.value.startCreatedAt,"onUpdate:modelValue":a[0]||(a[0]=e=>B.value.startCreatedAt=e),type:"datetime",placeholder:"开始时间"},null,8,["modelValue"]),d(" — "),u(m,{modelValue:B.value.endCreatedAt,"onUpdate:modelValue":a[1]||(a[1]=e=>B.value.endCreatedAt=e),type:"datetime",placeholder:"结束时间"},null,8,["modelValue"])])),_:1}),u(b,{label:"流量分类"},{default:r((()=>[u(x,{modelValue:B.value.category,"onUpdate:modelValue":a[2]||(a[2]=e=>B.value.category=e),style:{width:"194px"}},{default:r((()=>[(l(!0),t(s,null,i($.value,(e=>(l(),p(C,{key:e.categoryName,value:e.categoryName,label:e.categoryName},null,8,["value","label"])))),128))])),_:1},8,["modelValue"])])),_:1}),u(b,{label:"用户名"},{default:r((()=>[u(x,{modelValue:B.value.tag,"onUpdate:modelValue":a[3]||(a[3]=e=>B.value.tag=e),style:{width:"194px"}},{default:r((()=>[u(C,{key:"",value:"",label:"空"}),(l(!0),t(s,null,i(ee.value,(e=>(l(),p(C,{key:e.ID,value:e.ID,label:e.nickName},null,8,["value","label"])))),128))])),_:1},8,["modelValue"])])),_:1}),u(b,null,{default:r((()=>[u(U,{type:"primary",icon:"search",onClick:H},{default:r((()=>[d("查询")])),_:1}),u(U,{icon:"refresh",onClick:G},{default:r((()=>[d("重置")])),_:1})])),_:1})])),_:1},8,["model","onKeyup"])]),o("div",E,[z,u(P,{ref:"multipleTable",style:{width:"100%"},"tooltip-effect":"dark",data:T.value,"row-key":"ID",onSelectionChange:Q},{default:r((()=>[u(M,{type:"selection",width:"55"}),u(M,{align:"left",label:"标签",prop:"tag",width:"120"}),u(M,{align:"left",label:"用户",prop:"username",width:"120"}),u(M,{align:"left",label:"流量分类",prop:"category",width:"120"}),u(M,{align:"left",label:"下行流量",prop:"down",width:"120"}),u(M,{align:"left",label:"上行流量",prop:"up",width:"120"}),u(M,{align:"left",label:"总流量",prop:"total",width:"120"}),u(M,{align:"left",label:"日期",prop:"created_at",width:"180"})])),_:1},8,["data"]),o("div",A,[u(W,{layout:"total, sizes, prev, pager, next, jumper","current-page":O.value,"page-size":R.value,"page-sizes":[10,30,50,100],total:F.value,onCurrentChange:L,onSizeChange:J},null,8,["current-page","page-size","total"])])]),u(le,{modelValue:X.value,"onUpdate:modelValue":a[9]||(a[9]=e=>X.value=e),"before-close":Y,title:"弹窗操作"},{footer:r((()=>[o("div",S,[u(U,{onClick:Y},{default:r((()=>[d("取 消")])),_:1}),u(U,{type:"primary",onClick:Z},{default:r((()=>[d("确 定")])),_:1})])])),default:r((()=>[u(D,{model:I.value,"label-position":"right",ref_key:"elFormRef",ref:K,rules:q,"label-width":"80px"},{default:r((()=>[u(b,{label:"流量分类:"},{default:r((()=>[u(x,{modelValue:I.value.category,"onUpdate:modelValue":a[4]||(a[4]=e=>I.value.category=e),style:{width:"194px"}},{default:r((()=>[(l(!0),t(s,null,i($.value,(e=>(l(),p(C,{key:e.categoryName,value:e.categoryName,label:e.categoryName},null,8,["value","label"])))),128))])),_:1},8,["modelValue"])])),_:1}),u(b,{label:"标签:",prop:"tag"},{default:r((()=>[u(ae,{modelValue:I.value.tag,"onUpdate:modelValue":a[5]||(a[5]=e=>I.value.tag=e),clearable:!0,placeholder:"请输入"},null,8,["modelValue"])])),_:1}),u(b,{label:"下行流量:",prop:"down"},{default:r((()=>[u(ae,{modelValue:I.value.down,"onUpdate:modelValue":a[6]||(a[6]=e=>I.value.down=e),clearable:!0,placeholder:"请输入"},null,8,["modelValue"])])),_:1}),u(b,{label:"上行流量:",prop:"up"},{default:r((()=>[u(ae,{modelValue:I.value.up,"onUpdate:modelValue":a[7]||(a[7]=e=>I.value.up=e),clearable:!0,placeholder:"请输入"},null,8,["modelValue"])])),_:1}),u(b,{label:"总流量:",prop:"total"},{default:r((()=>[u(ae,{modelValue:I.value.total,"onUpdate:modelValue":a[8]||(a[8]=e=>I.value.total=e),clearable:!0,placeholder:"请输入"},null,8,["modelValue"])])),_:1})])),_:1},8,["model","rules"])])),_:1},8,["modelValue"])])}}});export{I as default};
